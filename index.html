<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VizitMaster - Генератор мини-визиток</title>
    <!-- Подключаем внешний CSS файл -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Шапка -->
    <header>
        <div class="container">
            <div class="logo">
                <img src="https://raw.githubusercontent.com/ayashmara/VisitMaster/refs/heads/main/%D0%90%D0%BD%D0%BD%D0%BE%D1%82%D0%B0%D1%86%D0%B8%D1%8F%202025-05-28%20130009.png" alt="VizitMaster">
                <h1>VizitMaster</h1>
            </div>
            <p>Создайте профессиональную мини-визитку за минуту</p>
        </div>
    </header>
    
    <!-- Основной контент -->
    <section class="hero">
        <div class="container">
            <h2>Цифровые визитки для современного мира</h2>
            <p>CardGen позволяет быстро создать стильную мини-визитку, которую можно использовать в мессенджерах, соцсетях или как подпись в email. Никаких сложных программ - просто введите данные и скачайте готовую карточку.</p>
        </div>
    </section>
    
    <!-- Особенности -->
    <section class="features">
        <div class="container">
            <h2>Почему выбирают нас</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <h3>Быстро</h3>
                    <p>Создайте визитку всего за 1 минуту. Никаких сложных настроек и обучения.</p>
                </div>
                <div class="feature-card">
                    <h3>Просто</h3>
                    <p>Интуитивно понятный интерфейс. Не нужно быть дизайнером, чтобы получить красивый результат.</p>
                </div>
                <div class="feature-card">
                    <h3>Доступно</h3>
                    <p>Бесплатный базовый функционал. Платите только за дополнительные премиум-шаблоны.</p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Генератор визиток -->
    <section class="generator">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 30px;">Создайте свою визитку</h2>
            <div class="generator-container">
                <div class="form-section">
                    <div class="form-group">
                        <label for="name">Ваше имя</label>
                        <input type="text" id="name" placeholder="Иван Иванов">
                    </div>
                    <div class="form-group">
                        <label for="title">Должность/специальность</label>
                        <input type="text" id="title" placeholder="Веб-дизайнер">
                    </div>
                    <div class="form-group">
                        <label for="phone">Телефон</label>
                        <input type="tel" id="phone" placeholder="+7 (999) 123-45-67">
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" placeholder="ivan@example.com">
                    </div>
                    <div class="form-group">
                        <label for="social">Соцсети/мессенджеры</label>
                        <textarea id="social" rows="3" placeholder="Telegram: @ivanov\nInstagram: @ivan.design"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="color">Цветовая схема</label>
                        <select id="color">
                            <option value="linear-gradient(135deg, #6e8efb, #a777e3)">Фиолетовый</option>
                            <option value="linear-gradient(135deg, #4facfe, #00f2fe)">Голубой</option>
                            <option value="linear-gradient(135deg, #f093fb, #f5576c)">Розовый</option>
                            <option value="linear-gradient(135deg, #43e97b, #38f9d7)">Зеленый</option>
                        </select>
                    </div>
                    <button id="generate-btn">Создать визитку</button>
                </div>
                
                <div class="preview-section">
                    <div class="vcard" id="vcard-preview">
                        <h3 id="preview-name">Иван Иванов</h3>
                        <p class="title" id="preview-title">Веб-дизайнер</p>
                        <div class="contacts">
                            <p id="preview-phone">+7 (999) 123-45-67</p>
                            <p id="preview-email">ivan@example.com</p>
                            <p id="preview-social">Telegram: @ivanov</p>
                        </div>
                    </div>
                    <button id="download-btn" disabled>Скачать визитку</button>
                </div>
            </div>
        </div>
    </section>
    
    <!-- О нас -->
    <section class="about">
        <div class="container">
            <h2>Наша команда</h2>
            <div class="team">
                <div class="team-member">
                    <img src="https://raw.githubusercontent.com/ayashmara/VisitMaster/refs/heads/main/p9wjb5kq.png" alt="Я">
                    <h3>Я</h3>
                    <p>Основатель, разработчик</p>
                </div>
                <div class="team-member">
                    <img src="https://raw.githubusercontent.com/ayashmara/VisitMaster/refs/heads/main/p9wjb5kq.png" alt="Я">
                    <h3>Я</h3>
                    <p>Дизайнер</p>
                </div>
                <div class="team-member">
                    <img src="https://raw.githubusercontent.com/ayashmara/VisitMaster/refs/heads/main/p9wjb5kq.png" alt="Я">
                    <h3>Я</h3>
                    <p>Маркетолог</p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Контакты -->
    <section class="contact">
        <div class="container">
            <h2>Свяжитесь с нами</h2>
            <p>Есть вопросы или предложения? Напишите нам, и мы обязательно ответим!</p>
            <button onclick="window.location.href='mailto:ayashmara@gmail.com'">Написать письмо</button>
        </div>
    </section>
    
    <!-- Подвал -->
    <footer>
        <div class="container">
            <p>© 2025 VizitMaster. Все права защищены.</p>
        </div>
    </footer>
    
    <!-- Подключаем библиотеку html2canvas -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    
    <!-- JavaScript код -->
    <script>
        // Функционал генератора визиток
        document.getElementById('generate-btn').addEventListener('click', function() {
            // Получаем значения из формы
            const name = document.getElementById('name').value || 'Иван Иванов';
            const title = document.getElementById('title').value || 'Специалист';
            const phone = document.getElementById('phone').value || '+7 (999) 123-45-67';
            const email = document.getElementById('email').value || 'example@mail.com';
            const social = document.getElementById('social').value || 'Telegram: @username';
            const color = document.getElementById('color').value;
            
            // Обновляем превью
            document.getElementById('preview-name').textContent = name;
            document.getElementById('preview-title').textContent = title;
            document.getElementById('preview-phone').textContent = phone;
            document.getElementById('preview-email').textContent = email;
            document.getElementById('preview-social').textContent = social;
            document.getElementById('vcard-preview').style.background = color;
            
            // Активируем кнопку скачивания
            document.getElementById('download-btn').disabled = false;
        });
        
        // Функция для скачивания визитки
        document.getElementById('download-btn').addEventListener('click', function() {
            const vcardElement = document.getElementById('vcard-preview');
            
            // Настройки для html2canvas
            const options = {
                scale: 2,
                logging: false,
                useCORS: true,
                allowTaint: true,
                backgroundColor: null
            };
            
            // Создаем изображение из HTML-элемента
            html2canvas(vcardElement, options).then(canvas => {
                // Создаем ссылку для скачивания
                const link = document.createElement('a');
                link.download = 'моя-визитка.png';
                link.href = canvas.toDataURL('image/png');
                
                // Программно кликаем по ссылке для скачивания
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }).catch(err => {
                console.error('Ошибка при создании изображения:', err);
                alert('Произошла ошибка при создании изображения. Пожалуйста, попробуйте снова.');
            });
        });
    </script>
</body>
</html>
